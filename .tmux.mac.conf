# Mac-specific tmux configuration
# This file is sourced only on macOS systems

# Start a new session in detached mode (-d) with a custom name
new-session -s ad -n devs-one -d

# Create additional windows and name them
new-window -t ad -n devs-two
new-window -t ad -n devs-three
new-window -t ad -n inngest

# Send commands to a specific window in the session
# Note: These lines need to be on one line with `\;` separation if using in a script
send-keys -t ad:1 'cd ~/ad-one/ai-companion && PORT=5001 npm run dev' C-m
send-keys -t ad:2 'cd ~/ad-two/ai-companion && PORT=5002 npm run dev' C-m
send-keys -t ad:3 'cd ~/ad-three/ai-companion && PORT=5003 npm run dev' C-m
send-keys -t ad:4 'cd ~/ad-one/ai-companion && npx --yes inngest-cli dev --no-discovery -u http://localhost:5001/api/inngest -u http://localhost:5002/api/inngest -u http://localhost:5003/api/inngest' C-m

# Attach to the session when tmux is launched
attach-session -t ad

